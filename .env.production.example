# Production Environment Configuration
# This file contains all environment variables needed for production deployment
# Copy this to .env and update with your actual production values

# CRITICAL: Never commit this file with real values to version control!

# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
ENVIRONMENT=production
DEBUG=false
APP_VERSION=1.0.0

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Production PostgreSQL connection string
# Format: postgresql://username:password@hostname:port/database
DATABASE_URL=postgresql://username:password@hostname:port/database

# Alternative individual database settings (if not using DATABASE_URL)
POSTGRES_SERVER=your-db-host.com
POSTGRES_USER=your-db-user
POSTGRES_PASSWORD=your-secure-db-password
POSTGRES_DB=lavidaluca_prod
POSTGRES_PORT=5432

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================
# JWT Secret Key - MUST be at least 32 characters long!
# Generate with: openssl rand -base64 32
JWT_SECRET_KEY=your-super-secure-32-character-jwt-secret-key-here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# =============================================================================
# CORS & SECURITY SETTINGS
# =============================================================================
# Allowed origins for CORS (JSON array format)
CORS_ORIGINS=["https://lavidaluca.fr","https://www.lavidaluca.fr","https://your-app.vercel.app"]
CORS_ALLOW_CREDENTIALS=true

# Trusted hosts for security middleware
TRUSTED_HOSTS=["lavidaluca.fr","*.lavidaluca.fr","*.vercel.app","*.onrender.com"]

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================
# OpenAI API Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=500

# Sentry Error Monitoring
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production

# =============================================================================
# EMAIL CONFIGURATION (SMTP)
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_EMAIL=noreply@lavidaluca.fr

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_MINUTE_ANONYMOUS=20

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=INFO

# Prometheus metrics (if using external Prometheus)
PROMETHEUS_USERNAME=prometheus
PROMETHEUS_PASSWORD=your-prometheus-password

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
# Port for the application (usually set by hosting provider)
PORT=8000

# Worker processes for production (adjust based on server capacity)
WEB_WORKERS=4

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_METRICS_ENDPOINT=true
ENABLE_DETAILED_HEALTH_CHECKS=true
ENABLE_AI_FEATURES=true
ENABLE_EMAIL_NOTIFICATIONS=true

# =============================================================================
# BACKUP & MAINTENANCE
# =============================================================================
# Database backup configuration (if using automated backups)
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# Maintenance mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Site is temporarily unavailable for maintenance"

# =============================================================================
# MONITORING ENDPOINTS CONFIGURATION
# =============================================================================
# Set to false to disable public access to sensitive endpoints
HEALTH_CHECKS_PUBLIC=true
METRICS_PUBLIC=false

# =============================================================================
# CACHE CONFIGURATION (if using Redis)
# =============================================================================
REDIS_URL=redis://username:password@hostname:port/0
CACHE_TTL=3600  # 1 hour in seconds

# =============================================================================
# DEPLOYMENT VALIDATION
# =============================================================================
# URLs for deployment validation
FRONTEND_URL=https://lavidaluca.fr
API_BASE_URL=https://your-backend.onrender.com/api/v1

# =============================================================================
# SECURITY HEADERS
# =============================================================================
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000  # 1 year in seconds
CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'"