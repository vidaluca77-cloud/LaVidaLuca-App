# Environment Variables Configuration

This document outlines the environment variables required for deploying La Vida Luca on Vercel (frontend) and Render (backend).

## Frontend (Vercel) Environment Variables

### Required Variables

| Variable | Description | Example Value |
|----------|-------------|---------------|
| `NEXT_PUBLIC_API_URL` | Backend API URL | `https://lavidaluca-backend.onrender.com` |
| `NEXT_PUBLIC_SENTRY_DSN` | Sentry DSN for error tracking | `https://...@sentry.io/...` |
| `SENTRY_ORG` | Sentry organization | `your-org` |
| `SENTRY_PROJECT` | Sentry project name | `lavidaluca-web` |
| `SENTRY_AUTH_TOKEN` | Sentry authentication token | `sntrys_...` |

### Optional Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `NEXT_TELEMETRY_DISABLED` | Disable Next.js telemetry | `1` |

## Backend (Render) Environment Variables

### Required Variables

| Variable | Description | Source |
|----------|-------------|--------|
| `DATABASE_URL` | PostgreSQL connection string | Auto-generated by Render |
| `JWT_SECRET_KEY` | JWT signing secret | Auto-generated by Render |
| `OPENAI_API_KEY` | OpenAI API key | Manual setup |
| `ENVIRONMENT` | Application environment | `production` |

### Optional Variables

| Variable | Description | Default |
|----------|-------------|---------|
| `CORS_ORIGINS` | Allowed CORS origins | `["https://lavidaluca.vercel.app"]` |
| `LOG_LEVEL` | Logging level | `INFO` |
| `SENTRY_DSN` | Sentry DSN for error tracking | Manual setup |
| `SENTRY_ENVIRONMENT` | Sentry environment | `production` |

## Setup Instructions

### Vercel Deployment

1. Install Vercel CLI: `npm i -g vercel`
2. Login: `vercel login`
3. Deploy: `npm run deploy:vercel`
4. Set environment variables in Vercel dashboard

### Render Deployment

1. Connect your GitHub repository to Render
2. Use the `render.yaml` configuration file
3. Set manual environment variables:
   - `OPENAI_API_KEY`
   - `SENTRY_DSN` (optional)

### Local Development

Create `.env.local` files in each app directory:

**apps/web/.env.local:**
```
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_SENTRY_DSN=your_sentry_dsn
```

**apps/backend/.env:**
```
DATABASE_URL=postgresql://user:pass@localhost/lavidaluca
JWT_SECRET_KEY=your_jwt_secret
OPENAI_API_KEY=your_openai_key
ENVIRONMENT=development
```

## Security Notes

- Never commit sensitive environment variables to git
- Use Render's auto-generated values when available
- Rotate secrets regularly
- Use different values for development and production